<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Alignpoint Chiropractor</title>
  <style>
    #alignpoint-menu a {
      display: inline-block;
      margin-right: 12px;
      text-decoration: none;
      color: #0b5fff;
    }
  </style>
</head>
<body>
  <header id="alignpoint-menu"></header>
  <main id="alignpoint-content"></main>
<script>
  const API_BASE = "https://api.adeptlogics.com/"; // use the API host the backend actually runs on
  const TENANT_ID = "08707e6f-a7b9-456e-9d2d-2b93df2954"; // the UUID from tenant_module.tenants
  const TOKEN = "..." // if the endpoint requires auth, youâ€™ll need a JWT here

  async function fetchJson(endpoint) {
    const headers = {
      "Content-Type": "application/json",
      ...(TOKEN ? { Authorization: `Bearer ${TOKEN}` } : {}),
    };
    const response = await fetch(`${API_BASE}${endpoint}`, { headers });
    if (!response.ok) throw new Error(`API error ${response.status}`);
    return response.json();
  }

  async function init() {
    const [pages, menus] = await Promise.all([
      fetchJson(`/v1/pages?tenantId=${TENANT_ID}`),
      fetchJson(`/v1/pages/menus?tenantId=${TENANT_ID}`),
    ]);
    renderMenu(menus);
    renderContent(pages);
  }

  init().catch(err => {
    console.error("Failed to load Alignpoint data", err);
    document.getElementById("alignpoint-content").innerHTML =
      "<p>Sorry, content failed to load.</p>";
  });
</script>
</body>
</html>